<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>WC3 Geometry</title>
    <base href="wc3-geometry">
    <link rel="shortcut icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="main.css">
    <script type="module" src="js/main.mjs" defer></script>
    <script type="module" src="js/example/axis.mjs" defer></script>
    <script type="module" src="js/example/angle.mjs" defer></script>
    <script type="module" src="js/example/distance-line.mjs" defer></script>
    <script type="module" src="js/example/distance.mjs" defer></script>
    <script type="module" src="js/example/angle-between-points.mjs" defer></script>
    <script type="module" src="js/example/polar-offset.mjs" defer></script>
    <script type="module" src="js/example/angle-normalize.mjs" defer></script>
    <script type="module" src="js/example/angle-of-rotation.mjs" defer></script>
    <script type="module" src="js/example/line-point-perpendicular.mjs" defer></script>
    <script type="module" src="js/example/line-segment-intersect.mjs" defer></script>
</head>
<body>

<h1 class="header">–ì–µ–æ–º–µ—Ç—Ä–∏—è –≤ –∏–≥—Ä–µ</h1>
<div class="container">

    <!-- –ü—Ä–µ–¥–∏—Å–ª–æ–≤–∏–µ -->
    <h2 class="header">–ü—Ä–µ–¥–∏—Å–ª–æ–≤–∏–µ</h2>
    <p>
        –¶–µ–ª—å —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å –Ω–æ–≤–∏—á–∫–æ–≤ —Å –≥–µ–æ–º–µ—Ç—Ä–∏–µ–π –≤ –∏–≥—Ä–µ. –¢–∞–∫ —á—Ç–æ –Ω–µ –∂–¥–∏—Ç–µ –∑–¥–µ—Å—å
        <a href="https://w.wiki/7XDe">–ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –ø–∞—Ä–∞–ª–µ–ª—å–Ω—ã—Ö –ø—Ä—è–º—ã—Ö</a> –∏ –ø—Ä–æ—á–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –≤–µ—â–µ–π.
        –ó–¥–µ—Å—å –±—É–¥—É—Ç —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è –Ω–µ–º–Ω–æ–≥–æ –ø–æ—Å—ã–ø–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—É–ª–∞–º–∏ –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å–∞ –æ—Å–æ–±–æ –æ–¥–∞—Ä—ë–Ω–Ω—ã—Ö —É—á–µ–Ω–∏–∫–æ–≤. –¢–∞–∫ —á—Ç–æ –∑–∞–≤–∞—Ä–∏—Ç–µ —Å–µ–±–µ —á–∞—é, –≤–æ–∑—å–º–∏—Ç–µ –≤ –∑—É–±—ã –∫–∞—Ä–∞–Ω–¥–∞—à –¥–ª—è —É–º–Ω–æ–≥–æ –≤–∏–¥–∞ –∏ –ø–æ–≥–Ω–∞–ª–∏.
    </p>

    <!-- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã -->
    <h2 id="axis" class="header">–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã</h2>
    <p>
        –ö–æ–≥–¥–∞ —Ä–µ—á—å –∑–∞—Ö–æ–¥–∏—Ç –æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏, –ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–æ—á–∫—É –æ—Ç—Å—á—ë—Ç–∞. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ
        <a href="https://w.wiki/7XDf">–æ—Å–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç</a>. –î–∞–∂–µ –µ—Å–ª–∏ –≤—ã –ø–ª–æ—Ö–æ —É—á–∏–ª–∏—Å—å –≤ —à–∫–æ–ª–µ, –Ω–∞—à–∞ –Ω–∞–≥–ª—è–¥–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏ –∏—Ö —Ä–∞–±–æ—Ç—ã.
    </p>

    <div class="canvas canvas-axis ar-1"></div>

    <p>
        –£—á—Ç–∏—Ç–µ, —á—Ç–æ —Ç–æ—á–∫–∞
        <span class="point"><b>0</b><b>0</b></span> –Ω–µ –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –∫–∞—Ä—Ç—ã. –ü—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –∫—Ä–∏–≤–æ—Ä—É–∫–æ—Å—Ç–∏, –æ–Ω–∞ –≤–æ–æ–±—â–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞ –µ—ë –ø—Ä–µ–¥–µ–ª–∞–º–∏.
        –≠—Ç–æ —Å–ª–µ–¥—Å—Ç–≤–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏–∏ –≥—Ä–∞–Ω–∏—Ü –∫–∞—Ä—Ç—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–µ —Å–¥–≤–∏–≥–∞—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ä–µ–ª—å–µ—Ñ–∞.
    </p>

    <!-- –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ -->
    <h2 id="distance" class="header">–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ</h2>
    <p>
        –ö–æ–≥–¥–∞ —Ä–µ—á—å –∑–∞—Ö–æ–¥–∏—Ç –æ
        <a href="https://w.wiki/7Z6h">—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏</a>, —Ç–æ –ø–µ—Ä–≤—ã–º –Ω–∞ —É–º –ø—Ä–∏—Ö–æ–¥–∏—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–æ—á–∫–∞–º–∏.
        –ù–æ –º—ã –Ω–µ –±—É–¥–µ–º —Å—Ö–æ–¥—É –æ–∫—É–Ω–∞—Ç—å—Å—è –≤ –¥–≤—É–º–µ—Ä–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, –∞ –æ–≥—Ä–∞–Ω–∏—á–∏–º—Å—è –æ–¥–Ω–∏–º –∏–∑–º–µ—Ä–µ–Ω–∏–µ–º, —Ç–æ–±–∏—à—å —Ç–æ—á–∫–∞–º–∏ –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–æ–π –ø—Ä—è–º–æ–π.
    </p>
    <p>
        –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤—ã—á–∏—Å–ª–∏—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–æ—á–∫–∞–º–∏ –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–æ–π –ø—Ä—è–º–æ–π, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ—Å—Ç–æ –≤–∑—è—Ç—å
        <a href="https://w.wiki/7Z79">–∞–±—Å–æ–ª—é—Ç–Ω—É—é –≤–µ–ª–∏—á–∏–Ω—É</a> —Ä–∞–∑–Ω–æ—Å—Ç–∏ –¥–≤—É—Ö –∫–∫–æ—Ä–¥–∏–Ω–∞—Ç. –ò–ª–∏ –ø–æ –ø—Ä–æ—Å—Ç–æ–º—É, –æ—Ç–Ω—è—Ç—å –æ—Ç –æ–¥–Ω–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥—Ä—É–≥—É—é –∏ –≤—ã–±—Ä–æ—Å–∏—Ç—å –º–∏–Ω—É—Å, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å. –ü—Ä–∏—Ç–æ–º –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–µ –≤–∞–∂–Ω–æ, –∫–∞–∫—É—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É –∏–∑ –∫–∞–∫–æ–π –≤—ã—á–∏—Ç–∞—Ç—å. –£–±–µ–¥–∏—Ç—å—Å—è –≤ —ç—Ç–æ–º –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏.
    </p>

    <div class="canvas canvas-distance-line"></div>

    <p>–ö–∞–∫ –≤—ã –º–æ–≥–ª–∏ –∑–∞–º–µ—Ç–∏—Ç—å, —Ñ–æ—Ä–º—É–ª–∞ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Å–∏. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
        <a href="https://w.wiki/7axe">—Ç–µ–æ—Ä–µ–º–æ–π –ü–∏—Ñ–∞–≥–æ—Ä–∞</a> –∏ –Ω–∞–π—Ç–∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏.
    </p>

    <p>
        –ï—Å–ª–∏ –≤—ã –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç–µ, –ø—Ä–∏ —á—ë–º –∑–¥–µ—Å—å —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∏, —Ç–æ —ç—Ç–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤–∞–º –≤—Å—ë –ø–æ—è—Å–Ω–∏—Ç.
    </p>
    <div class="canvas canvas-distance ar-2"></div>

    <p>–ö–∞–∫ –≤–∏–¥–∏—Ç–µ, —É –Ω–∞—Å –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞–µ—Ç—Å—è —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ <b>ABC</b>, –≥–¥–µ
        <b>AB</b> —è–≤–ª—è–µ—Ç—Å—è <a href="https://w.wiki/7fU2">–≥–∏–ø–æ—Ç–µ–Ω—É–∑–æ–π</a>. –ï—ë –¥–ª–∏–Ω—É –Ω–µ—Å–ª–æ–∂–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å –ø–æ
        <a href="https://w.wiki/7axe">—Ç–µ–æ—Ä–µ–º–µ –ü–∏—Ñ–∞–≥–æ—Ä–∞</a>:
        <b>AB<sup>2</sup> = AC<sup>2</sup> + BC<sup>2</sup></b>.</p>
    <pre class="canvas-distance-pre">
AC = A<sub>x</sub> - C<sub>x</sub> = <span data-v="ac">?</span>
BC = B<sub>y</sub> - C<sub>y</sub> = <span data-v="bc">?</span>
AC<sup>2</sup> + BC<sup>2</sup> = <span data-v="acbc">?</span>
AB = <i>SquareRoot</i>(AC<sup>2</sup> + BC<sup>2</sup>) = <span data-v="ab">?</span></pre>

    <h3>–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤ –∏–≥—Ä–µ</h3>
    <p>–í —Ñ–∞–π–ª–µ
        <a href="https://github.com/nazarpunk/wc3-ujapi/blob/7ee48312a9c68dd27b810054fa11c3c986178fea/sdk/blizzard.j#L762">blizzard.j</a> –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è:
    </p>
    <pre>function DistanceBetweenPoints takes location locA, location locB returns real
    local real dx = GetLocationX(locB) - GetLocationX(locA)
    local real dy = GetLocationY(locB) - GetLocationY(locA)
    return SquareRoot(dx * dx + dy * dy)
endfunction</pre>
    <p>
        –ï—Å–ª–∏ –∂–µ –≤—ã —è–≤–ª—è–µ—Ç–µ—Å—å —Å—á–∞—Å—Ç–ª–∏–≤—ã–º –æ–±–ª–∞–¥–∞—Ç–µ–ª–µ–º
        <a href="https://xgm.guru/p/ujapi/UjAPI-Resource">UjAPI</a>, —Ç–æ –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–∏–º–∏ –Ω–∞—Ç–∏–≤–∫–∞–º–∏:
    </p>
    <pre>
native MathDistanceBetweenPoints takes real fromX, real fromY, real toX, real toY returns real
native MathDistanceBetweenLocations takes location fromLoc, location toLoc returns real
</pre>

    <!-- –£–≥–ª—ã -->
    <h2 id="angles" class="header">–£–≥–ª—ã</h2>
    <p>–ö–æ–≥–¥–∞ —Ä–µ—á—å –∑–∞—Ö–æ–¥–∏—Ç –ø—Ä–æ –∏–∑–º–µ—Ä–µ–Ω–∏–µ <a href="https://w.wiki/7YCN">—É–≥–ª–æ–≤</a>, —Ç–µ, –∫—Ç–æ —É—á–∏–ª—Å—è –≤ —à–∫–æ–ª–µ —Å—Ä–∞–∑—É –≤—Å–ø–æ–º–∏–Ω–∞—é—Ç
        <a href="https://w.wiki/7YBq">—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä</a> –∏ —Ä–∞–∑–º–µ—Ç–∫—É
        <a href="https://w.wiki/7YBv">–æ—Ç –Ω—É–ª—è –¥–æ 360</a>. –≠—Ç–æ –≤—Å—ë –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤–æ–µ–π –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è, –Ω–æ –∫–æ–≥–¥–∞ –¥–µ–ª–æ –¥–æ—Ö–æ–¥–∏—Ç –¥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ –≤—Å–µ –∫—É–ª—å—Ç—É—Ä–Ω—ã–µ –ª—é–¥–∏ –ø–µ—Ä–µ—Ö–æ–¥—è—Ç –Ω–∞
        <a href="https://w.wiki/7YCS">—Ä–∞–¥–∏–∞–Ω—ã</a>. –û–Ω–∏ –∏–º–µ—é—Ç –º–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –∏ –ø–æ–ª–µ–∑–Ω—ã—Ö –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö —Å–≤–æ–π—Å—Ç–≤ –∏–∑-–∑–∞ —á–µ–≥–æ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ
        <a href="https://w.wiki/68GR">—è–∑—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</a> –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –Ω–∞ –≤—Ö–æ–¥ –∏–º–µ–Ω–Ω–æ
        <a href="https://w.wiki/7YCS">—Ä–∞–¥–∏–∞–Ω—ã</a>.
    </p>

    <p>–î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –ø–æ–Ω–∏–º–∞–Ω–∏—è, –ø–æ —Å–ª–æ–∂–∏–≤—à–µ–π—Å—è —Ç—Ä–∞–¥–∏—Ü–∏–∏, –Ω–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é.</p>

    <div class="canvas canvas-angle ar-1"></div>

    <p>
        –ß—Ç–æ–±—ã –Ω–µ –∑–∞–ø—É—Ç–∞—Ç—å—Å—è –≤ –µ–¥–∏–Ω–∏—Ü–∞—Ö –∏–∑–º–µ—Ä–µ–Ω–∏—è –±—É–¥–µ—Ç –æ—á–µ–Ω—å –ø–æ–ª–µ–∑–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å –∏—Ö –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è:
    </p>
    <ul>
        <li>–ì—Ä–∞–¥—É—Å—ã - Degrees - deg</li>
        <li>–†–∞–¥–∏–∞–Ω—ã - Radians - rad</li>
    </ul>
    <h3>–ü–æ–ª—É—á–µ–Ω–∏–µ –≤ –∏–≥—Ä–µ</h3>
    <p>–í –≤–∞–Ω–∏–ª–µ –ø–æ–ª—É—á–∏—Ç—å —É–≥–æ–ª –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —É —é–Ω–∏—Ç–∞.</p>
    <pre>constant native GetUnitFacing takes unit whichUnit returns real</pre>
    <p>–í
        <a href="https://xgm.guru/p/ujapi/UjAPI-Resource">UjAPI</a>, –µ—Å—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, —Ñ—É–Ω–∫—Ü–∏–π –±—É–¥–µ—Ç –Ω–µ–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ.
    </p>
    <pre>constant native GetUnitFacing takes unit whichUnit returns real
native GetDoodadFacing takes doodad whichDoodad returns real
native GetSpecialEffectFacing takes effect whichEffect returns real
native GetTrackableFacing takes trackable whichTrackable returns real
native GetWidgetFacing takes widget whichWidget returns real
native GetDestructableFacing takes destructable whichDestructable returns real
native GetItemFacing takes item whichItem returns real
native GetProjectileFacing takes projectile whichProjectile returns real
native GetFrameSpriteFacing takes framehandle whichFrame returns real</pre>
    <p>–í—Å–µ —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —É–≥–æ–ª –≤ –≥—Ä–∞–¥—É—Å–∞—Ö –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ
        <b>0 ... 360</b>. –ß—Ç–æ–±—ã –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –∏—Ö –≤ —Ä–∞–¥–∏–∞–Ω—ã, –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ —É–º–Ω–æ–∂–∏—Ç—å –∏—Ö –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É
        <a href="https://github.com/nazarpunk/wc3-ujapi/blob/7ee48312a9c68dd27b810054fa11c3c986178fea/sdk/blizzard.j#L18C24-L18C35">bj_DEGTORAD</a> –∏–ª–∏ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–µ–π –Ω–∞—Ç–∏–≤–∫–æ–π –∏–∑
        <a href="https://xgm.guru/p/ujapi/UjAPI-Resource">UjAPI</a>.
    </p>
    <pre>native Deg2Rad takes real degrees returns real</pre>

    <!-- –£–≥–æ–ª –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–æ—á–∫–∞–º–∏ -->
    <h2 id="angle-between-points" class="header">–£–≥–æ–ª –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–æ—á–∫–∞–º–∏</h2>
    <p>–ö–∞–∫ –≤—ã –Ω–∞–≤–µ—Ä–Ω–æ–µ –¥–æ–≥–∞–¥–∞–ª–∏—Å—å, —É <a href="https://w.wiki/7dRv">—Ç–æ—á–µ–∫</a> –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ –∫–∞–∫
        <a href="https://w.wiki/7YCN">—É–≥–æ–ª</a>. –ü–æ–¥ —ç—Ç–∏–º –æ–±—ã—á–Ω–æ –ø–æ–Ω–∏–º–∞—é—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É–≥–æ–ª –º–µ–∂–¥—É
        <a href="https://w.wiki/7dSH">–≤–µ–∫—Ç–æ—Ä–∞–º–∏</a>. –ï—Å–ª–∏ –±—ã—Ç—å —Ç–æ—á–Ω–µ–µ, —Ç–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É–≥–æ–ª, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –ø–æ–≤–µ—Ä–Ω—É—Ç—å –≤–µ–∫—Ç–æ—Ä, —á—Ç–æ–± –æ–Ω –±—ã–ª —Å–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω —Å –æ—Å—å—é
        <b>X</b>. –ó–≤—É—á–∏—Ç –∫–æ–Ω–µ—á–Ω–æ —Å–ª–∏—à–∫–æ–º —É–º–Ω–æ, –ø–æ—ç—Ç–æ–º—É —Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é –∏ —á–∏—Ç–∞–π—Ç–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –Ω–∏–∂–µ.
    </p>

    <div class="canvas canvas-angle-between-points ar-1"></div>

    <p>–ü–æ–ø—ã—Ç–∞–µ–º—Å—è –≤—ã—á–∏—Å–ª–∏—Ç—å —É–≥–æ–ª <b>AB</b>, —Ç–æ–±–∏—à—å –Ω–∞–π—Ç–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É–≥–æ–ª, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–≤–µ—Ä–Ω—É—Ç—å —Ç–æ—á–∫—É
        <b>B</b> –≤–æ–∫—Ä—É–≥ —Ç–æ—á–∫–∏ <b>A</b> —Ç–∞–∫, —á—Ç–æ–±—ã <b>AB</b> —Å–æ–≤–ø–∞–ª —Å <b>AB2</b>.</p>

    <p>–°–º–µ—Å—Ç–∏–º <b>AB</b> —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±
        <b>A</b> —Å–æ–≤–ø–∞–ª–∞ —Å –Ω–∞—á–∞–ª–æ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç. –≠—Ç–æ –Ω–µ—Å–ª–æ–∂–Ω–æ. –ü—Ä–æ—Å—Ç–æ —Ä–∞–∑–º–µ—Å—Ç–∏–º —Ç–∞–º —Ç–æ—á–∫—É <b>A1</b>.</p>

    <p>–†–∞–∑–º–µ—Å—Ç–∏–º —Ç–æ—á–∫—É <b>B1</b> –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ <b>A1</b> —Ç–∞–∫–∏–º –∂–µ –æ–±—Ä–∞–∑–æ–º, –∫–∞–∫ –∏
        <b>B</b> –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ <b>A</b>. –ï—Å–ª–∏ –≤—ã –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞
        <a href="#angle-between-points">–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–∏–º–µ—Ä</a> —Ç–æ –±—ã—Å—Ç—Ä–æ –¥–æ–≥–∞–¥–∞–µ—Ç–µ—Å—å –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å:<br>
    <pre class="canvas-angle-between-points-pre-diff">B1<sub>x</sub> = B<sub>x</sub> - A<sub>x</sub> = <span data-v="bx">?</span>
B1<sub>y</sub> = B<sub>y</sub> - A<sub>y</sub> = <span data-v="by">?</span></pre>

    <p>–ù—É –∏ –≤ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏, –Ω–∞–º –Ω—É–∂–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å
        <a href="https://w.wiki/7eeV">–∞—Ä–∫—Ç–∞–Ω–≥–µ–Ω—Å</a> —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏
        <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Math/atan2">Atan2</a>.
    </p>
    <p>
        <a href="https://w.wiki/7eeV">–ê—Ä–∫—Ç–∞–Ω–≥–µ–Ω—Å</a> ‚Äî —ç—Ç–æ —É–≥–æ–ª –º–µ–∂–¥—É –æ—Å—å—é
        <b>X</b> –∏ –ª–∏–Ω–∏–µ–π, –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω–æ–π –∏–∑ –Ω–∞—á–∞–ª–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
        <span class="point"><b>0</b><b>0</b></span> –≤ —Ç–æ—á–∫—É —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
        <span class="point"><b>x</b><b>y</b></span>. –£–≥–æ–ª –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ —Ä–∞–¥–∏–∞–Ω–∞—Ö –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –æ—Ç <b>-ùúã</b> –¥–æ
        <b>ùúã</b>, –∏—Å–∫–ª—é—á–∞—è <b>-ùúã</b>.
    </p>

    <p>–¢–∞–∫, –∫–∞–∫ –º—ã —É–∂–µ –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∏ <b>A</b> –≤
        <span class="point"><b>0</b><b>0</b></span>, —Ç–æ –Ω–∞–º –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã <b>B1</b> –≤ —Ñ—É–Ω–∫—Ü–∏—é:</p>
    <pre class="canvas-angle-between-points-pre-angle"><i>Atan2</i>(B1<sub>y</sub>, B1<sub>x</sub>) = <span data-v="a">?</span></pre>

    <h4>–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤ –∏–≥—Ä–µ</h4>
    <p>–í —Ñ–∞–π–ª–µ
        <a href="https://github.com/nazarpunk/wc3-ujapi/blob/bc7d0c95a78c49dde28148c38290d9995e5b108a/sdk/blizzard.j#L757">blizzard.j</a> –µ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è.
    </p>
    <pre>function AngleBetweenPoints takes location locA, location locB returns real
    return bj_RADTODEG * Atan2(GetLocationY(locB) - GetLocationY(locA), GetLocationX(locB) - GetLocationX(locA))
endfunction</pre>
    <p>–î–ª—è —Å—á–∞—Å—Ç–ª–∏–≤—ã—Ö –æ–±–ª–∞–¥–∞—Ç–µ–ª–µ–π
        <a href="https://xgm.guru/p/ujapi/UjAPI-Resource">UjAPI</a> –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—à–∏–µ –Ω–∞—Ç–∏–≤–∫–∏.
    </p>
    <pre>native MathAngleBetweenPoints takes real fromX, real fromY, real toX, real toY returns real
native MathAngleBetweenLocations takes location fromLoc, location toLoc returns real</pre>
    <p>–í—Å–µ –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —É–≥–æ–ª –≤ –≥—Ä–∞–¥—É—Å–∞—Ö –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ
        <b>-180 ... 180</b>, —Å —á–µ–º –Ω–µ –æ—á–µ–Ω—å —É–¥–æ–±–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å. –ü–æ—ç—Ç–æ–º—É –Ω–∞–ø–∏—à–µ–º —Å–≤–æ—é —Ñ—É–Ω–∫—Ü–∏—é:</p>
    <pre>function AngleBetweenXY takes real xa, real ya, real xb, real yb returns real
    return Atan2(by - ay, bx - ax)
endfunction</pre>

    <!-- –ü–æ–ª—è—Ä–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ -->
    <h2 id="polar-offset" class="header">–ü–æ–ª—è—Ä–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ</h2>
    <p>
        <a href="https://w.wiki/6ML2">–ü–æ–ª—è—Ä–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç</a> –Ω–µ —Ç–∞–∫ —Å–ª–æ–∂–Ω–∞ –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç
        <a href="https://w.wiki/7fUE">–ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç</a>, —Ç–æ—á–∫–∞ –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç—Å—è –Ω–µ —á–µ—Ä–µ–∑ –¥–≤–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, –∞ —á–µ—Ä–µ–∑
        <a href="#distance">—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ</a> –∏
        <a href="#angle-between-points">—É–≥–æ–ª</a>.
    </p>
    <p>–ò–∑ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–π —Ç–∞–∫–æ–π —Å–∏—Å—Ç–µ–º—ã –º—ã —Ä–∞—Å–º–æ—Ç—Ä–∏–º —Ç–æ–ª—å–∫–æ –ø–æ–ª—è—Ä–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ. –¢–æ–±–∏—à—å —Å–ø–æ—Å–æ–±, –∫–∞–∫ —Å–º–µ—Å—Ç–∏—Ç—å —Ç–æ—á–∫—É –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º —É–≥–ª–æ–º.</p>

    <p>–î–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∫ –≤–∞—à–∏–º —É—Å–ª—É–≥–∞–º.</p>

    <div class="canvas canvas-polar-offset ar-1"></div>

    <p>–ß—Ç–æ–± –ª–∏—à–Ω–∏–π —Ä–∞–∑ –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è –¥–æ–ø—É—Å—Ç–∏–º, —á—Ç–æ <a href="#distance">—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ</a> (<b>len</b>) –∏
        <a href="#distance">—É–≥–æ–ª</a> (<b>rad</b>) <b>AB</b> –º—ã —É–∂–µ –≤—ã—á–∏—Å–ª–∏–ª–∏ –∏ –Ω–∞—à–∞ –∑–∞–¥–∞—á–∞ —Å–º–µ—Å—Ç–∏—Ç—å —Ç–æ—á–∫—É
        <b>B</b> –≤ —Ç–æ—á–∫—É <b>B2</b> –Ω–∞ —Ç–æ –∂–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥ —Ç–µ–º –∂–µ —É–≥–ª–æ–º.</p>

    <p>–ó–¥–µ—Å—å –Ω–∞–º –æ–ø—è—Ç—å –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —Å–º–µ—â–µ–Ω–∏–µ <b>A</b> –≤
        <span class="point"><b>0</b><b>0</b></span>. –ú–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–ø–æ—Å–æ–±–æ–º, –∫–æ—Ç–æ—Ä—ã–π –º—ã –ø—Ä–∏–º–µ–Ω—è–ª–∏ –ø—Ä–∏
        <a href="#angle-between-points">–≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ —É–≥–ª–æ–≤</a>:</p>

    <pre><b>B1</b><sub>x</sub> = <b>B</b><sub>x</sub> - <b>A</b><sub>x</sub>
<b>B1</b><sub>y</sub> = <b>B</b><sub>y</sub> - <b>A</b><sub>y</sub></pre>

    <p>–•–æ—Ç—å —ç—Ç–æ—Ç —Å–ø–æ—Å–æ–± –∏ –ø—Ä–æ—Å—Ç, –Ω–æ –æ–Ω –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –∏–∑–º–µ–Ω—è—Ç—å —É–≥–æ–ª. –í–æ—Ç –∑–¥–µ—Å—å –Ω–∞ –ø–æ–º–æ—â—å –ø—Ä–∏—Ö–æ–¥–∏—Ç
        <a href="https://w.wiki/6ML2">–ø–æ–ª—è—Ä–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç</a>. –ß—Ç–æ–± –Ω–∞–π—Ç–∏ —Ç–æ—á–∫—É, –ª–µ–∂–∞—â—É—é –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ (<b>len</b>) –ø–æ–¥ —É–≥–ª–æ–º (<b>rad</b>) –æ—Ç
        <span class="point"><b>0</b><b>0</b></span> –Ω—É–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ñ–æ—Ä–º—É–ª–æ–π:</p>

    <pre><b>B1</b><sub>x</sub> = <i>Cos</i>(<b>rad</b>) * <b>len</b>
<b>B1</b><sub>y</sub> = <i>Sin</i>(<b>rad</b>) * <b>len</b></pre>

    <p>–ß—Ç–æ–± –Ω–∏—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ –Ω–µ –ø–æ—Ç–µ—Ä—è–ª–∞—Å—å, –Ω–∞–ø–æ–º–Ω—é, —á—Ç–æ –∏—ã —Å–º–µ—â–∞–µ–º —Ç–æ—á–∫—É <b>B</b> –≤ —Ç–æ—á–∫—É <b>B2</b> –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ
        <b>len</b> –ø–æ–¥ —É–≥–ª–æ–º <b>rad</b>. –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –º—ã –ø–æ–ª—É—á–∏–ª–∏ —Ç–æ—á–∫—É <b>B1</b>, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏
        <b>len</b> –ø–æ–¥ —É–≥–ª–æ–º <b>rad</b> –æ—Ç <span class="point"><b>0</b><b>0</b></span>. –ò –µ—Å–ª–∏ –ø—Ä–∏–±–∞–≤–∏—Ç—å –∫ —Ç–æ—á–∫–µ
        <b>B1</b> –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã <b>B</b>, —Ç–æ –º—ã –ø–æ–ª—É—á–∏–º —Ç–æ—á–∫—É <b>B2</b>, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏
        <b>len</b> –ø–æ–¥ —É–≥–ª–æ–º <b>rad</b> –æ—Ç <b>B</b>.</p>

    <p>–ó–∞–ø–∏—à–µ–º –∏—Ç–æ–≥–æ–≤—É—é —Ñ–æ—Ä–º—É–ª—É:</p>
    <pre><b>B2</b><sub>x</sub> = <i>Cos</i>(<b>rad</b>) * <b>len</b> + <b>B</b><sub>x</sub>
<b>B2</b><sub>y</sub> = <i>Sin</i>(<b>rad</b>) * <b>len</b> + <b>B</b><sub>y</sub></pre>

    <h3>–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤ –∏–≥—Ä–µ</h3>
    <p>
        –í —Ñ–∞–π–ª–µ
        <a href="https://github.com/nazarpunk/wc3-ujapi/blob/bc7d0c95a78c49dde28148c38290d9995e5b108a/sdk/blizzard.j#L769">blizzard.j</a> –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ —Ñ—É–Ω–∫—Ü–∏—é:
    </p>
    <pre>function PolarProjectionBJ takes location source, real dist, real angle returns location
    local real x = GetLocationX(source) + dist * Cos(angle * bj_DEGTORAD)
    local real y = GetLocationY(source) + dist * Sin(angle * bj_DEGTORAD)
    return Location(x, y)
endfunction</pre>
    <p>–û–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —É–≥–æ–ª –≤ –≥—Ä–∞–¥—É—Å–∞—Ö, –∏ —Å–æ–∑–¥–∞—ë—Ç <b>Location</b>, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –ø–æ—Ç–æ–º —É–Ω–∏—á—Ç–æ–∂–∞—Ç—å –≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ —É—Ç–µ—á–µ–∫.</p>

    <p>–í <a href="https://xgm.guru/p/ujapi/UjAPI-Resource">UjAPI</a> —Ç–æ–∂–µ –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏:</p>

    <pre>native MathPointProjectionX takes real x, real angle, real distance returns real
native MathPointProjectionY takes real y, real angle, real distance returns real</pre>

    <p>–ù–æ –æ–Ω–∏ —Ç–∞–∫ –∂–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç —É–≥–æ–ª –≤ –≥—Ä–∞–¥—É—Å–∞—Ö, —á—Ç–æ –Ω–µ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ –¥–ª—è –º–µ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è. –ü–æ—Å–µ–º—É –º—ã –Ω–∞–ø–∏—à–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –±–ª—ç–∫–¥–∂–µ–∫–æ–º –∏ —Ä–∞–¥–∏–∞–Ω–∞–º–∏:</p>
    <pre>function PolarProjectionX takes real x, real dist, real angle returns real
    return Cos(angle) * dist + x
endfunction
function PolarProjectionY takes real y, real dist, real angle returns real
    return Sin(angle) * dist + y
endfunction</pre>

    <!-- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —É–≥–ª–∞ -->
    <h2 id="angle-normalize" class="header">–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —É–≥–ª–∞</h2>
    <p>
        –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —ç—Ç–æ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –ª—é–±–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —É–≥–ª–∞ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω –æ—Ç <b>-ùúã</b> –¥–æ
        <b>ùúã</b>, –∏—Å–∫–ª—é—á–∞—è <b>-ùúã</b>.
    </p>
    <h3>–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤ –∏–≥—Ä–µ</h3>
    <p>–î–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —É–≥–ª–∞ —Ñ—É–Ω–∫—Ü–∏–π –Ω–∏–∫—Ç–æ –Ω–µ –∑–∞–≤—ë–∑, –ø–æ—ç—Ç–æ–º—É –º—ã –Ω–∞–ø–∏—à–µ–º –µ—ë —Ä—É–∫–∞–º–∏:</p>

    <pre>function AngleNormalize takes real angle return real
    if angle > -bj_PI and angle <= bj_PI then
        return angle
    endif
    set angle = ModuloReal(angle + bj_PI, bj_PI * 2)
    if angle < 0 then
        return angle + bj_PI
    else
        return angle - bj_PI
    endif
endfunction</pre>

    <h4>–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?</h4>
    <p>
        –ù–æ—Ä–º–∞–ª–∏–∑–≤—Ü–∏—è —Ä–µ–¥–∫–∞—è —à—Ç—É–∫–∞, –Ω–æ –∏–º–µ–Ω–Ω–æ –∑–¥–µ—Å—å –ª–æ–≥–∏—á–Ω–µ–π –≤—Å–µ–≥–æ –æ –Ω–µ–π —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –ø–æ–∫–∞ –Ω–µ –∑–∞–±—ã–ª–∏—Å—å –∑–Ω–∞–Ω–∏—è –æ
        <a href="#polar-offset">–ø–æ–ª—è—Ä–Ω–æ–º —Å–º–µ—â–µ–Ω–∏–∏</a>.
    </p>
    <div class="canvas canvas-angle-normalize ar-1"></div>
    <p>
        –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –±—ã—Ç–æ–≤—É—é —Å–∏—Ç—É–∞—Ü–∏—é - –≤–∞–º –Ω—É–∂–Ω–æ –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –ø–µ–Ω—Ç–∞–≥—Ä–∞–º—É —Å —Ü–µ–Ω—Ç—Ä–æ–º –≤ —Ç–æ—á–∫–µ `<b>A</b>` –∏ –æ–¥–Ω–∏–º –∏–∑ –ª—É—á–µ–π –≤ —Ç–æ—á–∫–µ `<b>B</b>.
        –ü—Ä–æ—Å—Ç–µ–π—à–∏–º —Ä–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç –Ω–∞–π—Ç–∏ –º–µ–∂–¥—É –ª—É—á–∞–º–∏, –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ <b>2ùúã/5</b>, –∏ —Å –ø–æ–º–æ—â—å—é
        <a href="#polar-offset">–ø–æ–ª—è—Ä–Ω–æ–≥–æ —Å–º–µ—â–µ–Ω–∏—è</a> –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ª—É—á–∏.
    </p>

    <p>–¢–∞–∫ –∫–∞–∫ –º—ã —É–∂–µ —É–º–µ–µ–º <a href="#distance">–≤—ã—á–∏—Å–ª—è—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ</a>, —Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å —É–≥–ª—ã:</p>
    <pre><b>AB1</b> = 1 * 2ùúã/5 + <b>AB</b>
<b>AB2</b> = 2 * 2ùúã/5 + <b>AB</b>
<b>AB3</b> = 3 * 2ùúã/5 + <b>AB</b>
<b>AB4</b> = 4 * 2ùúã/5 + <b>AB</b></pre>
    <p>
        –ö–∞–∫ –≤–∏–¥–∏—Ç–µ, —É –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π —É–≥–ª–æ–≤ —Ç–æ—á–µ–∫
        <b>B<sup>*</sup></b> –∑–∞–ø—Ä–µ–¥–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è. –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—ã –æ—Ç—Ä–∏—Å–æ–≤–∞–ª–∏ —Ç–æ—á–∫–∏
        <b>C<sup>*</sup></b> –ø–æ–¥ –Ω–æ—Ä–º–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —É–≥–ª–æ–º.
    </p>

    <!-- –£–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞ -->
    <h2 id="angle-of-rotation" class="header">–£–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞</h2>
    <p>–£–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞ ‚Äî —ç—Ç–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É–≥–æ–ª, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –ø–æ–≤–µ—Ä–Ω—É—Ç—å –ª—É—á, –∏—Å—Ö–æ–¥—è—â–∏–π –∏–∑ —Ç–æ—á–∫–∏
        <b>O</b>, —á—Ç–æ–±—ã –æ–Ω —Å–æ–≤–ø–∞–ª —Å –¥—Ä—É–≥–∏–º –ª—É—á–æ–º, –∏—Å—Ö–æ–¥—è—â–∏–º –∏–∑ —ç—Ç–æ–π –∂–µ —Ç–æ—á–∫–∏.</p>

    <div class="canvas-text">
        <div>–õ–ö–ú - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å <b>A</b></div>
        <div>–ü–ö–ú - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å <b>B</b></div>
    </div>
    <div class="canvas canvas-angle-of-rotation ar-2"></div>

    <p>–ò–∑ —Ç–æ—á–∫–∏ <b>A</b> –∏—Å—Ö–æ–¥—è—Ç –¥–≤–∞ –ª—É—á–∞: <b>AB</b> –∏ <b>AC</b>. –£–≥–ª–æ–º –ø–æ—Ä–æ–≤—Ä–æ—Ç–∞ <b>D</b> –¥–ª—è —É–≥–ª–∞
        <b>AB</b> –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ <b>AC</b> –±—É–¥–µ—Ç —Ç–∞–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º <b>AB + D = AB1 = AC</b>.</p>

    <p>–ï—Å–ª–∏ –ø—Ä–∏—Å–º–æ—Ç—Ä–∏—Ç–µ—Å—å –∫ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏, —Ç–æ –º–æ–∂–µ—Ç–µ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö —á–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
        <b>AB1</b> –∏
        <b>AC</b> –æ—Ç–ª–∏—á–∞—é—Ç—Å—è. –ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–µ–Ω —É–≥–æ–ª –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –æ—Ç <b>-ùúã</b> –¥–æ
        <b>ùúã</b>, –∏—Å–∫–ª—é—á–∞—è <b>-ùúã</b>, —Ç–æ –º–æ–∂–µ—Ç–µ –µ–≥–æ <a href="#angle-normalize">–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å</a>.</p>


    <h3>–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?</h3>
    <p>–ü–æ –∑–Ω–∞–∫—É <b>D</b> –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –≤ –∫–∞–∫—É—é —Å—Ç–æ—Ä–æ–Ω—É –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å —É–≥–æ–ª. –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π
        <b>D</b> - –ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ. –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π - –ø—Ä–æ—Ç–∏–≤.</p>

    <p>–ï—Å–ª–∏ –≤–∑—è—Ç—å <a href="https://w.wiki/7Z79">–∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ</a>
        <b>D</b>, —Ç–æ –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ª–∏ —É–≥–æ–ª <b>AC</b>
        <a href="https://w.wiki/7kah">—Å–µ–∫—Ç–æ—Ä—É –æ–∫—Ä—É–∂–Ω–æ—Å—Ç–∏</a>.</p>


    –ö–∞–∫ –æ–±—ã—á–Ω–æ, —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —É–≥–ª–∞–º–∏ –Ω–µ –∑–∞–≤–µ–∑–ª–∏, –ø–æ—ç—Ç–æ–º—É –ø–æ–ª—å–∑—É–µ–º—Å—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π:
    <pre>function AngleOfRotation takes real a, real b returns real
    local real d = b - a
    if d > bj_PI then
        return -(2 * bj_PI - d)
    elseif d < -bj_PI then
        return 2 * bj_PI + d
    endif
    return d
endfunction</pre>

    <!-- –ü–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä –∏–∑ —Ç–æ—á–∫–∏ –∫ –ø—Ä—è–º–æ–π -->
    <h2 id="line-point-perpendicular" class="header">–ü–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä –∏–∑ —Ç–æ—á–∫–∏ –∫ –ø—Ä—è–º–æ–π</h2>
    <p>–î–ª—è –≤—Å–µ–≤–æ–∑–º–æ–∂–Ω—ã—Ö –∫–∞—Å—Ç–æ–≤ –ø–æ –ø—Ä—è–º–æ–π –∑–∞—á–∞—Å—Ç—É—é –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤—Å–µ–≤–æ–∑–º–æ–∂–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞–∑–Ω–æ–π —Å—Ç–µ–ø–µ–Ω–∏ —É–Ω—ã–ª–æ—Å—Ç–∏. –ü–æ—Ä–∞ –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å —ç—Ç–æ –±–µ–∑–æ–±—Ä–∞–∑–∏–µ.</p>

    <div class="canvas-text">
        <div>–õ–ö–ú - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å <b>A</b></div>
        <div>–ü–ö–ú - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å <b>B</b></div>
    </div>
    <div class="canvas canvas-line-point-perpendicular ar-1"></div>

    <p>–í –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ —É –Ω–∞—Å –µ—Å—Ç—å –ø—Ä—è–º–∞—è, –∑–∞–¥–∞–Ω–Ω–∞—è –¥–≤—É–º—è —Ç–æ—á–∫–∞–º–∏ <b>A</b>, <b>B</b> –∏ —Ç–æ—á–∫–∞
        <b>–°</b>. –§—É–Ω–∫—Ü–∏—è, –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–∞—è –Ω–∏–∂–µ –≤—ã—á–∏—Å–ª–∏—Ç —Ç–æ—á–∫—É <b>–°1</b>, –∫–æ—Ç–æ—Ä–∞—è —è–≤–ª—è–µ—Ç—Å—è –∫—Ä–∞—Ç—á–∞–π—à–∏–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º –æ—Ç –ø—Ä—è–º–æ–π
        <b>AB</b> –¥–æ —Ç–æ—á–∫–∏ <b>C</b>.</p>

    <h3>–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤ –∏–≥—Ä–µ</h3>
    <p>–ö–∞–∫ –≤—ã —É–∂–µ –Ω–∞–≤–µ—Ä–Ω–æ –¥–æ–≥–∞–¥–∞–ª–∏—Å—å, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–∞–ø–ª–µ–≤–∞—Ç—å –Ω–∞ –≥–µ–æ–º–µ—Ç—Ä–∏—é –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–¥—ë—Ç—Å—è –ø–∏—Å–∞—Ç—å —Ä—É–∫–∞–º–∏:</p>
    <pre>globals
   real LinePointPerpendicularX = 0
   real LinePointPerpendicularY = 0
endglobals

function LinePointPerpendicular takes real xa, real ya, real xb, real yb, real px, real py returns nothing
    local real m
    local real c
    local real mPerpendicular
    local real cPerpendicular

    // –ü—Ä—è–º–∞—è, –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∞—è –æ—Å–∏ X
    if ya == yb then
        set LinePointPerpendicularX = px
        set LinePointPerpendicularY = ya
        return
    endif

    // –ü—Ä—è–º–∞—è, –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∞—è –æ—Å–∏ Y
    if xa == xb then
        set LinePointPerpendicularX = xa
        set LinePointPerpendicularY = py
        return
    endif

    set m = (yb - ya) / (xb - xa) // –ù–∞—Ö–æ–¥–∏–º —É–≥–ª–æ–≤–æ–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø—Ä—è–º–æ–π AB
    set c = ya - m * xa // –ù–∞—Ö–æ–¥–∏–º —Å–≤–æ–±–æ–¥–Ω—ã–π —á–ª–µ–Ω c —É—Ä–∞–≤–Ω–µ–Ω–∏—è –ø—Ä—è–º–æ–π AB
    set mPerpendicular = -1 / m // –ù–∞—Ö–æ–¥–∏–º —É–≥–ª–æ–≤–æ–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω–æ–π –ø—Ä—è–º–æ–π
    set cPerpendicular = py - mPerpendicular * px // –ù–∞—Ö–æ–¥–∏–º —Å–≤–æ–±–æ–¥–Ω—ã–π —á–ª–µ–Ω c —É—Ä–∞–≤–Ω–µ–Ω–∏—è –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω–æ–π –ø—Ä—è–º–æ–π, –ø—Ä–æ—Ö–æ–¥—è—â–µ–π —á–µ—Ä–µ–∑ —Ç–æ—á–∫—É (x, y)

    // –ù–∞—Ö–æ–¥–∏–º —Ç–æ—á–∫—É –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω–æ–π –ø—Ä—è–º–æ–π —Å –ø—Ä—è–º–æ–π AB
    set LinePointPerpendicularX = (cPerpendicular - c) / (m - mPerpendicular)
    set LinePointPerpendicularY = m * xIntersection + c
endfunction</pre>

    <p>–î–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–≤—É—Ö —Ç–æ—á–µ–∫, –æ–±–æ–∑–Ω–∞—á–∞—é—â–∏—Ö –ø—Ä—è–º—É—é <b>xa</b>, <b>ya</b>, <b>xb</b>,
        <b>yb</b>, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ—á–∫–∏ <b>px</b>,
        <b>py</b> –∏ —Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏—Å–∫–æ–º–æ–π —Ç–æ—á–∫–∏.</p>

    <p>–î–∞–ª–µ–µ –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–∞—Ç–∏–≤–∫–æ–π, –∫–æ—Ç–æ—Ä–∞—è —É—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–ª–∏–∑–∏—é —é–Ω–∏—Ç–∞:</p>
    <pre>constant native IsUnitInRangeXY takes unit whichUnit, real x, real y, real distance returns boolean</pre>

    <p>–ò–ª–∏ –∂–µ –ø—Ä–æ—Å—Ç–æ –≤—ã—á–∏—Å–ª–∏—Ç—å
        <a href="#distance">—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ</a> –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ —Å–≤–æ–∏—Ö —Ü–µ–ª—è—Ö. –¢–æ–ª—å–∫–æ –Ω–µ –∑–∞–±—ã–≤–∞–π—Ç–µ, —á—Ç–æ –ø—Ä—è–º–∞—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞ –∏ –≤–∞–º –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è
        <a href="#angle-of-rotation">—É–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞</a>.</p>

    <!-- –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –æ—Ç—Ä–µ–∑–∫–æ–≤ -->
    <h2 id="line-segment-intersect" class="header">–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –æ—Ç—Ä–µ–∑–∫–æ–≤</h2>
    <p>–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–ª–Ω–∏—è–º–∏, –∏ –ø—Ä–æ—á–∏–º–∏ –ø—Ä—è–º—ã–º–∏, –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –Ω–∞–π—Ç–∏ –∏—Ö –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è —á—Ç–æ–± –∑–∞–∫–ª–∏–Ω–∞–Ω–∏—è –Ω–µ –≤—ã–≥–ª—è–¥–µ–ª–∏ —É–Ω—ã–ª–æ. </p>
    <div class="canvas-text">
        <div>–õ–ö–ú - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å <b>A</b></div>
        <div>–ü–ö–ú - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å <b>B</b></div>
        <div>–¶–ö–ú - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å <b>C</b></div>
        <div class="canvas-line-segment-intersect-text"></div>
    </div>
    <div class="canvas canvas-line-segment-intersect ar-1"></div>

    <h3>–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤ –∏–≥—Ä–µ</h3>
    <p>–ß–µ–º –¥–∞–ª—å—à–µ –≤ –ª–µ—Å, —Ç–µ–º —Ç–æ–ª—â–µ –ø–∞—Ä—Ç–∏–∑–∞–Ω—ã –∏ –≤—Å—ë —è—Ä–æ—Å—Ç–Ω–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥–µ–æ–º–µ—Ç—Ä–∏–µ–π –ø—Ä–∏–¥—ë—Ç—Å—è –ø–∏—Å–∞—Ç—å —Ä—É–∫–∞–º–∏:</p>
    <pre>globals
    real LineSegmentIntersectX = 0
    real LineSegmentIntersectY = 0
    boolean LineSegmentIntersectA = false
    boolean LineSegmentIntersectB = false
endglobals

function LineSegmentIntersect takes real ax, real ay, real bx, real by, real cx, real cy, real dx, real dy returns boolean
    local real a
    local real b
    local real na
    local real nb
    local real d = (dy - cy) * (bx - ax) - (dx - cx) * (by - ay)

    set LineSegmentIntersectX = 0
    set LineSegmentIntersectY = 0
    set LineSegmentIntersectA = false
    set LineSegmentIntersectB = false

    if d == 0 then
        return false
    endif

    set a = ay - cy
    set b = ax - cx
    set na = (dx - cx) * a - (dy - cy) * b
    set nb = (bx - ax) * a - (by - ay) * b
    set a = na / d
    set b = nb / d

    LineSegmentIntersectX = ax + a * (bx - ax)
    LineSegmentIntersectY = ay + a * (by - ay)

    // –ù–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ —Ç–æ—á–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –Ω–∞ –ø–µ—Ä–≤–æ–º –æ—Ç—Ä–µ–∑–∫–µ
    LineSegmentIntersectA = a > 0 and a < 1

    // –ù–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ —Ç–æ—á–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –Ω–∞ –≤—Ç–æ—Ä–æ–º –æ—Ç—Ä–µ–∑–∫–µ
    LineSegmentIntersectB = b > 0 and b < 1

    return true
endfunction</pre>

    <p>–§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤–æ—Å–µ–º—å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ —á–µ—Ç—ã—Ä—ë—Ö —Ç–æ—á–µ–∫ –∑–∞–¥–∞—é—â–∏—Ö –¥–≤–∞ –æ—Ç—Ä–µ–∑–∫–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫—É—é, —É–∫–∞–∑—ã–≤–∞—é—â—É—é –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è –ª–∏ –ø—Ä—è–º—ã–µ –≤ –æ–¥–Ω–æ–π –∏ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–π —Ç–æ—á–∫–µ.
        –ü—Ä–∏ —ç—Ç–æ–º –≤ –≥–ª–æ–±–∞–ª–∫–∞—Ö —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è —Ç–æ—á–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ —Ç–æ—á–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –Ω–∞ –∫–∞–∂–¥–æ–º –æ—Ç—Ä–µ–∑–∫–µ.</p>

    <p>–ü–æ–¥–æ–∑—Ä–µ–≤–∞—é, —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Ç–∞—Ç—å—Å—è, –≤ –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã. –ü–æ—Å–µ–º—É –æ–±—ä—è—Å–Ω—é –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Ç–æ—á–µ–∫ –∏–∑ –∫—Ä–æ–ø–æ—Ç–ª–∏–≤–æ —Å–¥–µ–ª–∞–Ω–æ–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏:</p>
    <pre><b>A<sub>x</sub></b> <b>A<sub>y</sub></b> <b>B<sub>x</sub></b> <b>B<sub>y</sub></b> <b>C<sub>x</sub></b> <b>C<sub>y</sub></b> <b>D<sub>x</sub></b> <b>D<sub>y</sub></b></pre>
    <p>–í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ <b>LineSegmentIntersectA</b> –±—É–¥–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å, –ª–µ–∂–∏—Ç –ª–∏ —Ç–æ—á–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ
        <b>AB</b> –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ <b>LineSegmentIntersectB</b> –Ω–∞ <b>CD</b>.</p>

</div>

</body>
</html>
